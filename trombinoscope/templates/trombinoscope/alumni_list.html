{% extends "base.html" %}
{% load crispy_forms_tags %}
{% load static %}
{% block title %}Les élèves Histoire des Arts{% endblock title %}
{% block content %}
<h1>Les Anciens Élèves Histoire des Arts du Lycée de Saint-Just</h1>




<div class="container">


    <div class="row">

{% for alumnus in alumni %}

<div class="card m-4" style="width: 18rem;">
  {% if alumnus.photo %}
    <img class="card-img-top" src="{% get_media_prefix %}{{alumnus.photo}}" alt="Portrait de {{ alumnus.first_name }} {{ alumnus.last_name }}">
  {% else %}
    <img class="card-img-top" src="{% static 'trombinoscope/icons/classmates.png' %}" alt="Image par défaut représentant des étudiants">
  {% endif %}
  <div class="card-body">
    <h5 class="card-title">{{alumnus.first_name}} {{alumnus.last_name}}</h5>
    <p class="card-text">Bac {{alumnus.bac_year}}</p>
    <p class="card-text"><b>Statut pro :</b> {{alumnus.get_status_display}}</p>
    {% if alumnus.looking_for_internship %}
        <span class="badge badge-pill badge-info">Recherche un stage</span>
    {% endif %}
    {% if alumnus.post_bac %}
    <h6 class="card-text">Études :</h6> {{alumnus.post_bac|safe}}
    {% endif %}
    {% if alumnus.occupation %}
    <h6 class="card-text">Emploi :</h6> {{alumnus.occupation|safe}}
    {% endif %}
    {% if alumnus.contact_info_instagram %}
    <p><img src="{% static 'trombinoscope/icons/instagram.png' %}" alt="Logo Instagram"> <a target="_blank" href="{{alumnus.contact_info_instagram}}">Instagram</a></p>
    {% endif %}
    {% if alumnus.contact_info_linkedin %}
    <p><img src="{% static 'trombinoscope/icons/linkedin.png' %}" alt="Logo Linkedin"> <a target="_blank" href="{{alumnus.contact_info_linkedin}}">Linkedin</a></p>
    {% endif %}
    {% if alumnus.contact_info_email %}
    <p><img src="{% static 'trombinoscope/icons/envelope.png' %}" alt="Logo Enveloppe"> <a href="mailto:{{alumnus.contact_info_email}}">{{alumnus.contact_info_email}}</a></p>
    {% endif %}
    {% if alumnus.contact_info_tel %}
    <p><img src="{% static 'trombinoscope/icons/smartphone.png' %}" alt="Logo Smartphone"> {{ alumnus.contact_info_tel }}</p>
    {% endif %}
    {% if user.is_staff %}
    <p>
        <a href="{% url 'trombinoscope:staff_edit_profile' alumnus.id %}"
        class="btn btn-secondary btn-sm active" role="button"
        aria-pressed="true">Staff : Modifier ce profil</a>
    </p>
    {% endif %}
  </div>
</div>
{% endfor %}
    </div>
</div>

{% if page_obj.paginator.num_pages > 1 %}
<nav aria-label="Page navigation example">
  <ul class="pagination">
    {% if page_obj.has_previous %}
    <li class="page-item">
      <a class="page-link" href="?page={{ page_obj.previous_page_number }}" aria-label="Previous">
        <span aria-hidden="true">&laquo;</span>
      </a>
    </li>
    {% endif %}
    {% for _ in ''|ljust:page_obj.paginator.num_pages %}
    <a class="page-link" href="?page={{ forloop.counter }}">{{ forloop.counter }}</a>
    {% endfor %}


    {% if page_obj.has_next %}
    <li class="page-item">
      <a class="page-link" href="?page={{ page_obj.next_page_number }}" aria-label="Next">
        <span aria-hidden="true">&raquo;</span>
      </a>
    </li>
    {% endif %}
  </ul>
</nav>
{% endif %}
{% endblock %}
